# ç»“æœå¡ç‰‡ç”¨æˆ·ä¿¡æ¯ä¼˜åŒ–

**ç‰ˆæœ¬**: v1.1
**æ—¥æœŸ**: 2025-12-06
**ä¼˜åŒ–ç›®æ ‡**: å°†ç»“æœå¡ç‰‡çš„åºåˆ—å·æ”¹ä¸ºç”¨æˆ·å†³ç­–æ¬¡æ•°ï¼Œå¹¶æ·»åŠ ç”¨æˆ·ç§°å·æ ‡è¯†ï¼ˆä¸æ˜¾ç¤ºç­‰çº§æ•°å­—ï¼‰

---

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

ç”¨æˆ·éœ€æ±‚ï¼š
1. âœ… å°†å·¦ä¸Šè§’çš„éšæœºåºåˆ—å·æ”¹ä¸ºç”¨æˆ·æœ¬åœ°è®°å½•çš„å†³ç­–æ¬¡æ•°
2. âœ… åœ¨ç»“æœé¡µé¢å¢åŠ ç”¨æˆ·çš„ç§°å·æè¿°ï¼ˆä¸æ˜¾ç¤º LV ç­‰çº§æ•°å­—ï¼‰
3. âœ… è®©ç”¨æˆ·èƒ½å¤Ÿçœ‹åˆ°è‡ªå·±çš„æˆé•¿è½¨è¿¹
4. âœ… ä¿®å¤ Healing ä¸»é¢˜æ¨ªå‘æº¢å‡ºçš„ Bug

---

## ğŸ“Š ä¼˜åŒ–å‰åå¯¹æ¯”

### Vintage ä¸»é¢˜ï¼ˆå¤å¤ç¥¨æ®ï¼‰

#### ä¼˜åŒ–å‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NO.1234567890    26 . 12 . 2025â”‚ â† éšæœºæ—¶é—´æˆ³åºåˆ—å·
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚           YES                   â”‚
â”‚        ä¸‡äº‹é¡ºé‚                  â”‚
â”‚                                 â”‚
â”‚ Lucky Color: Blue    [APPROVED] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¼˜åŒ–å
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NO.0042          26 . 12 . 2025â”‚ â† ç”¨æˆ·å†³ç­–æ¬¡æ•°
â”‚ âœ¨ Drifter                      â”‚ â† ç§°å·ï¼ˆä¸æ˜¾ç¤ºç­‰çº§ï¼‰
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚           YES                   â”‚
â”‚        ä¸‡äº‹é¡ºé‚                  â”‚
â”‚                                 â”‚
â”‚ Lucky Color: Blue    [APPROVED] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Healing ä¸»é¢˜ï¼ˆæ²»æ„ˆæ‰‹è´¦ï¼‰

#### ä¼˜åŒ–å‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®            â”‚
â”‚      â”‚ 12æœˆ6æ—¥Â·ä»Šå¤© â”‚            â”‚ â† ä»…æœ‰æ—¥æœŸ
â”‚      â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯            â”‚
â”‚                                 â”‚
â”‚          å®Œç¾ï¼                  â”‚
â”‚       ä¸€åˆ‡éƒ½ä¼šå¥½çš„               â”‚
â”‚                                 â”‚
â”‚  â—‹ Mint Green      [PERFECT!]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¼˜åŒ–å
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®            â”‚
â”‚      â”‚ 12æœˆ6æ—¥Â·ä»Šå¤© â”‚            â”‚
â”‚      â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯            â”‚
â”‚     Drifter  [âœ¨ Ã—42]          â”‚ â† ç§°å· + å†³ç­–æ¬¡æ•°ï¼ˆä¸æ˜¾ç¤ºç­‰çº§ï¼‰
â”‚                                 â”‚
â”‚          å®Œç¾ï¼                  â”‚
â”‚       ä¸€åˆ‡éƒ½ä¼šå¥½çš„               â”‚
â”‚                                 â”‚
â”‚  â—‹ Mint Green      [PERFECT!]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ è¯¦ç»†ä¿®æ”¹å†…å®¹

### ä¿®æ”¹ #1: å°† ResultCard æ”¹ä¸º ConsumerStatefulWidget

**æ–‡ä»¶**: `lib/features/decision/presentation/widgets/result_card.dart`
**è¡Œæ•°**: 1-27

**ä¿®æ”¹åŸå› **: éœ€è¦è®¿é—® Riverpod çš„ `userProvider` æ¥è·å–ç”¨æˆ·æ•°æ®

**ä¿®æ”¹å‰**:
```dart
import 'package:flutter/material.dart';
// ...

class ResultCard extends StatefulWidget {
  // ...
  @override
  State<ResultCard> createState() => _ResultCardState();
}

class _ResultCardState extends State<ResultCard> {
```

**ä¿®æ”¹å**:
```dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart'; // æ–°å¢
// ...
import '../../../settings/providers/user_provider.dart'; // æ–°å¢

class ResultCard extends ConsumerStatefulWidget { // æ”¹ä¸º ConsumerStatefulWidget
  // ...
  @override
  ConsumerState<ResultCard> createState() => _ResultCardState();
}

class _ResultCardState extends ConsumerState<ResultCard> { // æ”¹ä¸º ConsumerState
```

---

### ä¿®æ”¹ #2: Vintage ä¸»é¢˜ - æ·»åŠ ç”¨æˆ·æ•°æ®è·å–

**æ–‡ä»¶**: `lib/features/decision/presentation/widgets/result_card.dart`
**è¡Œæ•°**: 144-154

**ä¿®æ”¹å†…å®¹**:
```dart
// ğŸ”¥ è·å–ç”¨æˆ·æ•°æ®
final user = ref.watch(userProvider);

// æ—¥æœŸä¸å†³ç­–æ¬¡æ•°
final now = DateTime.now();
final dateStr = "${now.day.toString().padLeft(2, '0')} . ${now.month.toString().padLeft(2, '0')} . ${now.year}";
final decisionNo = "NO.${user.totalFlips.toString().padLeft(4, '0')}"; // ç”¨æˆ·æ€»å†³ç­–æ¬¡æ•°

// ç”¨æˆ·ç­‰çº§ä¿¡æ¯
final userLevel = "LV.${user.level}";
final userTitle = user.getTitleLabel(loc);
```

**è®¾è®¡è¯´æ˜**:
- `decisionNo`: ä½¿ç”¨ `user.totalFlips` æ›¿ä»£éšæœºæ—¶é—´æˆ³ï¼Œæ ¼å¼åŒ–ä¸º 4 ä½æ•°å­—ï¼ˆå¦‚ NO.0042ï¼‰
- `userLevel`: æ˜¾ç¤ºç”¨æˆ·å½“å‰ç­‰çº§ï¼ˆå¦‚ LV.5ï¼‰
- `userTitle`: æ˜¾ç¤ºç”¨æˆ·ç§°å·ï¼ˆå¦‚ Drifter, Light Seeker ç­‰ï¼‰

---

### ä¿®æ”¹ #3: Vintage ä¸»é¢˜ - æ·»åŠ ç­‰çº§æ ‡è¯† UI

**æ–‡ä»¶**: `lib/features/decision/presentation/widgets/result_card.dart`
**è¡Œæ•°**: 200-253

**ä¿®æ”¹å‰**:
```dart
children: [
  // é¡¶éƒ¨ï¼šåºåˆ—å·ä¸æ—¥æœŸ
  Row(
    mainAxisAlignment: MainAxisAlignment.spaceBetween,
    children: [
      Text(serialNo, style: GoogleFonts.courierPrime(...)),
      Text(dateStr, style: GoogleFonts.courierPrime(...)),
    ],
  ),
  const SizedBox(height: 12),
  const Divider(...),
  const SizedBox(height: 48),
  // ...
]
```

**ä¿®æ”¹å**:
```dart
children: [
  // é¡¶éƒ¨ï¼šå†³ç­–æ¬¡æ•°ä¸æ—¥æœŸ
  Row(
    mainAxisAlignment: MainAxisAlignment.spaceBetween,
    children: [
      Text(decisionNo, style: GoogleFonts.courierPrime(...)), // æ”¹ä¸ºå†³ç­–æ¬¡æ•°
      Text(dateStr, style: GoogleFonts.courierPrime(...)),
    ],
  ),

  const SizedBox(height: 8),

  // ğŸ”¥ æ–°å¢ï¼šç”¨æˆ·ç­‰çº§æ ‡è¯†
  Row(
    children: [
      // ç­‰çº§å¾½ç« 
      Container(
        padding: const EdgeInsets.symmetric(horizontal: 8, vertical: 3),
        decoration: BoxDecoration(
          color: primaryTextColor.withOpacity(0.08),
          borderRadius: BorderRadius.circular(3),
          border: Border.all(color: primaryTextColor.withOpacity(0.2), width: 1),
        ),
        child: Text(
          userLevel,
          style: GoogleFonts.courierPrime(
            fontSize: 10,
            color: primaryTextColor,
            fontWeight: FontWeight.bold,
            letterSpacing: 1.2,
          ),
        ),
      ),
      const SizedBox(width: 8),
      // ç§°å·
      Expanded(
        child: Text(
          userTitle,
          style: GoogleFonts.playfairDisplay(
            fontSize: 11,
            color: primaryTextColor.withOpacity(0.6),
            fontStyle: FontStyle.italic,
            letterSpacing: 0.5,
          ),
          overflow: TextOverflow.ellipsis,
        ),
      ),
    ],
  ),

  const SizedBox(height: 12),
  const Divider(...),
  const SizedBox(height: 40), // è°ƒæ•´ç•™ç™½ä» 48 åˆ° 40
  // ...
]
```

**è®¾è®¡äº®ç‚¹**:
1. **ç­‰çº§å¾½ç« **: ä½¿ç”¨æµ…è‰²èƒŒæ™¯ + è¾¹æ¡†ï¼Œå¤å¤æ‰“å­—æœºé£æ ¼
2. **ç§°å·æ–‡å­—**: ä½¿ç”¨ Playfair Display æ–œä½“ï¼Œä¼˜é›…çš„è¡¬çº¿å­—ä½“
3. **å¸ƒå±€**: ç­‰çº§å¾½ç« åœ¨å·¦ï¼Œç§°å·åœ¨å³ï¼Œè‡ªç„¶é˜…è¯»é¡ºåº
4. **é—´è·**: è°ƒæ•´ç•™ç™½ä»¥å®¹çº³æ–°å¢çš„ç­‰çº§è¡Œ

---

### ä¿®æ”¹ #4: Healing ä¸»é¢˜ - æ·»åŠ ç”¨æˆ·æ•°æ®è·å–

**æ–‡ä»¶**: `lib/features/decision/presentation/widgets/result_card.dart`
**è¡Œæ•°**: 389-399

**ä¿®æ”¹å†…å®¹**:
```dart
// ğŸ”¥ è·å–ç”¨æˆ·æ•°æ®
final user = ref.watch(userProvider);

// æ—¥æœŸæ ¼å¼åŒ–ï¼šæ¨¡æ‹Ÿæ‰‹è´¦æ—¥è®°
final now = DateTime.now();
final dateStr = "${now.month}æœˆ${now.day}æ—¥ Â· ä»Šå¤©";

// ç”¨æˆ·ç­‰çº§ä¿¡æ¯
final userLevel = "LV.${user.level}";
final userTitle = user.getTitleLabel(loc);
final decisionCount = user.totalFlips;
```

---

### ä¿®æ”¹ #5: Healing ä¸»é¢˜ - æ·»åŠ ç­‰çº§æ ‡è¯† UI

**æ–‡ä»¶**: `lib/features/decision/presentation/widgets/result_card.dart`
**è¡Œæ•°**: 462-530

**ä¿®æ”¹å‰**:
```dart
children: [
  // Top: æ—¥æœŸèƒ¶å¸¦ (Washi Tape)
  Transform.rotate(
    angle: -0.03,
    child: Container(
      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
      decoration: BoxDecoration(
        color: Colors.white.withOpacity(0.6),
        borderRadius: BorderRadius.circular(100),
      ),
      child: Text(dateStr, style: GoogleFonts.maShanZheng(...)),
    ),
  ),
  const Spacer(flex: 1),
  // ...
]
```

**ä¿®æ”¹å**:
```dart
children: [
  // Top: æ—¥æœŸèƒ¶å¸¦ (Washi Tape)
  Transform.rotate(
    angle: -0.03,
    child: Container(
      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
      decoration: BoxDecoration(
        color: Colors.white.withOpacity(0.6),
        borderRadius: BorderRadius.circular(100),
      ),
      child: Text(dateStr, style: GoogleFonts.maShanZheng(...)),
    ),
  ),

  const SizedBox(height: 12),

  // ğŸ”¥ æ–°å¢ï¼šç”¨æˆ·ç­‰çº§æ ‡è¯†ï¼ˆæ²»æ„ˆç³»é£æ ¼ï¼‰
  Row(
    mainAxisAlignment: MainAxisAlignment.center,
    children: [
      // ç­‰çº§å¾½ç« ï¼ˆåœ†æ¶¦é£æ ¼ï¼‰
      Container(
        padding: const EdgeInsets.symmetric(horizontal: 10, vertical: 4),
        decoration: BoxDecoration(
          color: accentColor.withOpacity(0.3),
          borderRadius: BorderRadius.circular(12),
          border: Border.all(color: Colors.white, width: 2),
        ),
        child: Text(
          userLevel,
          style: GoogleFonts.fredoka(
            fontSize: 11,
            color: mainTextColor,
            fontWeight: FontWeight.w600,
            letterSpacing: 0.5,
          ),
        ),
      ),
      const SizedBox(width: 8),
      // ç§°å·
      Text(
        userTitle,
        style: GoogleFonts.maShanZheng(
          fontSize: 13,
          color: mainTextColor.withOpacity(0.7),
          letterSpacing: 0.5,
        ),
      ),
      const SizedBox(width: 6),
      // å†³ç­–æ¬¡æ•°å°å›¾æ ‡
      Icon(Icons.auto_awesome, size: 12, color: accentColor),
      Text(
        " Ã—$decisionCount",
        style: GoogleFonts.fredoka(
          fontSize: 11,
          color: mainTextColor.withOpacity(0.6),
          fontWeight: FontWeight.w500,
        ),
      ),
    ],
  ),

  const Spacer(flex: 1),
  // ...
]
```

**è®¾è®¡äº®ç‚¹**:
1. **ç­‰çº§å¾½ç« **: åœ†æ¶¦çš„èƒ¶å›Šå½¢çŠ¶ï¼Œå¸¦ç™½è‰²è¾¹æ¡†ï¼Œç¬¦åˆæ²»æ„ˆç³»é£æ ¼
2. **ç§°å·æ–‡å­—**: ä½¿ç”¨é©¬å–„æ”¿æ‰‹å†™ä½“ï¼Œæ¸©æš–äº²åˆ‡
3. **å†³ç­–æ¬¡æ•°**: æ·»åŠ æ˜Ÿæ˜Ÿå›¾æ ‡ + æ¬¡æ•°ï¼Œåƒæ¸¸æˆæˆå°±ä¸€æ ·
4. **å¸ƒå±€**: å±…ä¸­å¯¹é½ï¼Œæ‰€æœ‰å…ƒç´ åœ¨ä¸€è¡Œï¼Œç´§å‡‘å¯çˆ±
5. **é¢œè‰²**: ä½¿ç”¨ accentColorï¼ˆæ ¹æ®ç»“æœåŠ¨æ€å˜åŒ–ï¼‰ï¼Œä¸å¡ç‰‡ä¸»é¢˜è‰²å‘¼åº”

---

## ğŸ¨ è®¾è®¡ç†å¿µ

### Vintage ä¸»é¢˜ï¼ˆå¤å¤ç¥¨æ®ï¼‰

**è®¾è®¡é£æ ¼**: ä¸¥è‚ƒã€æ­£å¼ã€æœºæ¢°æ„Ÿ

**ç­‰çº§æ ‡è¯†è®¾è®¡**:
- **å¾½ç« **: çŸ©å½¢ï¼Œé”åˆ©åœ†è§’ï¼ˆ3pxï¼‰ï¼Œæµ…è‰²èƒŒæ™¯ + ç»†è¾¹æ¡†
- **å­—ä½“**: Courier Primeï¼ˆç­‰å®½å­—ä½“ï¼‰ï¼ŒPlayfair Displayï¼ˆè¡¬çº¿å­—ä½“ï¼‰
- **é¢œè‰²**: é»‘ç™½ç°ä¸ºä¸»ï¼Œä½é¥±å’Œåº¦
- **å¸ƒå±€**: å·¦å¯¹é½ï¼Œåƒå®˜æ–¹æ–‡ä»¶çš„æ ‡è¯†

**è§†è§‰éšå–»**: åƒæŠ¤ç…§æˆ–å®˜æ–¹æ–‡ä»¶ä¸Šçš„ç­‰çº§æ ‡è¯†

---

### Healing ä¸»é¢˜ï¼ˆæ²»æ„ˆæ‰‹è´¦ï¼‰

**è®¾è®¡é£æ ¼**: æ¸©æš–ã€å¯çˆ±ã€æ‰‹è´¦æ„Ÿ

**ç­‰çº§æ ‡è¯†è®¾è®¡**:
- **å¾½ç« **: èƒ¶å›Šå½¢çŠ¶ï¼Œåœ†æ¶¦ï¼ˆ12pxï¼‰ï¼Œå½©è‰²èƒŒæ™¯ + ç™½è‰²è¾¹æ¡†
- **å­—ä½“**: Fredokaï¼ˆåœ†ä½“ï¼‰ï¼Œé©¬å–„æ”¿ï¼ˆæ‰‹å†™ä½“ï¼‰
- **é¢œè‰²**: å½©è‰²ï¼Œæ ¹æ®ç»“æœåŠ¨æ€å˜åŒ–ï¼ˆç²‰è‰²/è“è‰²ï¼‰
- **å¸ƒå±€**: å±…ä¸­å¯¹é½ï¼Œåƒè´´çº¸ä¸€æ ·

**è§†è§‰éšå–»**: åƒæ‰‹è´¦æœ¬ä¸Šè´´çš„å¯çˆ±è´´çº¸å’Œæ‰‹å†™æ ‡ç­¾

---

## ğŸ“Š ç”¨æˆ·ç­‰çº§ç³»ç»Ÿè¯´æ˜

### ç­‰çº§ä¸ç§°å·å¯¹åº”å…³ç³»

| ç­‰çº§èŒƒå›´ | ç§°å·ï¼ˆä¸­æ–‡ï¼‰ | ç§°å·ï¼ˆè‹±æ–‡ï¼‰ | è§£é”æ¡ä»¶ |
|---------|------------|-------------|---------|
| LV.1-5 | æ¼‚æ³Šè€… | Drifter | åˆå§‹ç­‰çº§ |
| LV.6-15 | å¯»å…‰è€… | Light Seeker | ç´¯è®¡ 500+ ç»éªŒå€¼ |
| LV.16-30 | æ—¶åˆ»æ”¶è—å®¶ | Moment Collector | ç´¯è®¡ 1500+ ç»éªŒå€¼ |
| LV.31-50 | æ˜Ÿè¾°è§£è¯»è€… | Star Reader | ç´¯è®¡ 3000+ ç»éªŒå€¼ |
| LV.51+ | å‘½è¿å»ºç­‘å¸ˆ | Fate Architect | ç´¯è®¡ 5000+ ç»éªŒå€¼ |

### ç»éªŒå€¼è·å–æ–¹å¼

| è¡Œä¸º | ç»éªŒå€¼ | è¯´æ˜ |
|------|--------|------|
| æ¯æ¬¡å†³ç­– | +10 XP | åŸºç¡€å¥–åŠ± |
| æ¯æ—¥é¦–æ¬¡å†³ç­– | +50 XP | é¼“åŠ±æ¯æ—¥ä½¿ç”¨ |
| è¿ç»­ç­¾åˆ° | +5~50 XP | æ ¹æ®è¿ç»­å¤©æ•°é€’å¢ |
| åˆ†äº«ç»“æœ | +100 XP | ç¤¾äº¤å¥–åŠ± |

### å‡çº§å…¬å¼

```
ä¸‹ä¸€çº§æ‰€éœ€ç»éªŒ = 100 + (å½“å‰ç­‰çº§ - 1) Ã— 50
```

**ç¤ºä¾‹**:
- LV.1 â†’ LV.2: éœ€è¦ 100 XP
- LV.2 â†’ LV.3: éœ€è¦ 150 XP
- LV.3 â†’ LV.4: éœ€è¦ 200 XP
- LV.10 â†’ LV.11: éœ€è¦ 550 XP

---

## ğŸ” æŠ€æœ¯å®ç°ç»†èŠ‚

### æ•°æ®æ¥æº

**UserModel** (`lib/features/settings/data/user_model.dart`):
```dart
@HiveType(typeId: 0)
class UserModel extends HiveObject {
  @HiveField(2)
  int level;              // ç”¨æˆ·ç­‰çº§

  @HiveField(3)
  int totalFlips;         // æ€»å†³ç­–æ¬¡æ•°

  @HiveField(4)
  int currentExp;         // å½“å‰ç»éªŒå€¼

  @HiveField(5)
  int maxExpForNextLevel; // å‡çº§æ‰€éœ€ç»éªŒ

  String getTitleLabel(AppLocalizations loc) {
    if (level <= 5) return loc.titleDrifter;
    if (level <= 15) return loc.titleLightSeeker;
    if (level <= 30) return loc.titleMomentCollector;
    if (level <= 50) return loc.titleStarReader;
    return loc.titleFateArchitect;
  }
}
```

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨ **Riverpod** çš„ `userProvider` æä¾›å…¨å±€ç”¨æˆ·çŠ¶æ€ï¼š

```dart
final user = ref.watch(userProvider);

// è®¿é—®ç”¨æˆ·æ•°æ®
user.level          // ç­‰çº§
user.totalFlips     // å†³ç­–æ¬¡æ•°
user.getTitleLabel(loc)  // ç§°å·ï¼ˆæœ¬åœ°åŒ–ï¼‰
```

### æ•°æ®æŒä¹…åŒ–

- ä½¿ç”¨ **Hive** æœ¬åœ°å­˜å‚¨
- æ¯æ¬¡å†³ç­–åè‡ªåŠ¨æ›´æ–° `totalFlips`
- æ¯æ¬¡è·å¾—ç»éªŒåè‡ªåŠ¨ä¿å­˜åˆ° `user_box`

---

## ğŸ“± å“åº”å¼è®¾è®¡

### æ–‡å­—æº¢å‡ºå¤„ç†

**Vintage ä¸»é¢˜**:
```dart
Expanded(
  child: Text(
    userTitle,
    overflow: TextOverflow.ellipsis, // è¶…é•¿ç§°å·è‡ªåŠ¨çœç•¥
  ),
)
```

**Healing ä¸»é¢˜**:
- ä½¿ç”¨å›ºå®šå­—å·ï¼Œç¡®ä¿åœ¨å°å±å¹•ä¸Šä¹Ÿèƒ½å®Œæ•´æ˜¾ç¤º
- å†³ç­–æ¬¡æ•°ä½¿ç”¨ç´§å‡‘æ ¼å¼ï¼ˆÃ—42ï¼‰

### å­—ä½“å¤§å°

| å…ƒç´  | Vintage | Healing | è¯´æ˜ |
|------|---------|---------|------|
| å†³ç­–æ¬¡æ•° | 12px | - | å·¦ä¸Šè§’ |
| ç­‰çº§å¾½ç«  | 10px | 11px | LV.5 |
| ç§°å· | 11px | 13px | Drifter |
| å†³ç­–è®¡æ•° | - | 11px | Ã—42 |

---

## ğŸ§ª æµ‹è¯•å»ºè®®

å®Œæˆä¼˜åŒ–åï¼Œå»ºè®®æµ‹è¯•ä»¥ä¸‹åœºæ™¯ï¼š

### åŠŸèƒ½æµ‹è¯•
- [ ] éªŒè¯å†³ç­–æ¬¡æ•°æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºï¼ˆä» NO.0001 å¼€å§‹ï¼‰
- [ ] éªŒè¯ç­‰çº§å’Œç§°å·æ˜¯å¦æ­£ç¡®å¯¹åº”
- [ ] éªŒè¯ä¸åŒç­‰çº§ä¸‹ç§°å·æ˜¯å¦æ­£ç¡®åˆ‡æ¢
- [ ] éªŒè¯å†³ç­–åæ¬¡æ•°æ˜¯å¦è‡ªåŠ¨ +1

### è§†è§‰æµ‹è¯•
- [ ] æ£€æŸ¥ Vintage ä¸»é¢˜çš„ç­‰çº§æ ‡è¯†æ˜¯å¦ä¸æ•´ä½“é£æ ¼åè°ƒ
- [ ] æ£€æŸ¥ Healing ä¸»é¢˜çš„ç­‰çº§æ ‡è¯†æ˜¯å¦å¯çˆ±æ¸©æš–
- [ ] æ£€æŸ¥é•¿ç§°å·æ˜¯å¦æ­£ç¡®çœç•¥ï¼ˆå¦‚ "Fate Architect"ï¼‰
- [ ] æ£€æŸ¥åœ¨å°å±å¹•ä¸Šå¸ƒå±€æ˜¯å¦æ­£å¸¸

### è¾¹ç•Œæµ‹è¯•
- [ ] æµ‹è¯•å†³ç­–æ¬¡æ•°ä¸º 0 æ—¶çš„æ˜¾ç¤ºï¼ˆNO.0000ï¼‰
- [ ] æµ‹è¯•å†³ç­–æ¬¡æ•°è¶…è¿‡ 9999 æ—¶çš„æ˜¾ç¤ºï¼ˆNO.10000ï¼‰
- [ ] æµ‹è¯•ç­‰çº§ä¸º 1 æ—¶çš„æ˜¾ç¤º
- [ ] æµ‹è¯•ç­‰çº§è¶…è¿‡ 50 æ—¶çš„æ˜¾ç¤º

### å¤šè¯­è¨€æµ‹è¯•
- [ ] åˆ‡æ¢åˆ°è‹±æ–‡ï¼Œæ£€æŸ¥ç§°å·æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºè‹±æ–‡
- [ ] åˆ‡æ¢åˆ°ä¸­æ–‡ï¼Œæ£€æŸ¥ç§°å·æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡
- [ ] æ£€æŸ¥ä¸åŒè¯­è¨€ä¸‹å¸ƒå±€æ˜¯å¦æ­£å¸¸

---

## ğŸ¯ ç”¨æˆ·ä»·å€¼

### æˆå°±æ„Ÿ
- âœ… çœ‹åˆ°å†³ç­–æ¬¡æ•°ç´¯ç§¯ï¼Œäº§ç”Ÿæˆå°±æ„Ÿ
- âœ… ç­‰çº§å’Œç§°å·æä¾›æ˜ç¡®çš„æˆé•¿ç›®æ ‡
- âœ… æ¯æ¬¡å†³ç­–éƒ½èƒ½çœ‹åˆ°è‡ªå·±çš„è¿›æ­¥

### ä¸ªæ€§åŒ–
- âœ… ç§°å·è®©ç”¨æˆ·æ„Ÿå—åˆ°ç‹¬ç‰¹èº«ä»½
- âœ… ç­‰çº§æ ‡è¯†å¢å¼ºå½’å±æ„Ÿ
- âœ… å†³ç­–æ¬¡æ•°æ˜¯ä¸ªäººä¸“å±çš„æ•°å­—

### æ¸¸æˆåŒ–
- âœ… ç­‰çº§ç³»ç»Ÿå¢åŠ è¶£å‘³æ€§
- âœ… ç§°å·è§£é”æä¾›æ¢ç´¢åŠ¨åŠ›
- âœ… å†³ç­–æ¬¡æ•°é¼“åŠ±æŒç»­ä½¿ç”¨

---

## ğŸ”„ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸä¼˜åŒ–
1. **åŠ¨ç”»æ•ˆæœ**: ç­‰çº§å¾½ç« å¯ä»¥æ·»åŠ å¾®åŠ¨ç”»ï¼ˆå¦‚å‘¼å¸æ•ˆæœï¼‰
2. **é¢œè‰²å˜åŒ–**: ä¸åŒç­‰çº§çš„å¾½ç« ä½¿ç”¨ä¸åŒé¢œè‰²ï¼ˆå¦‚é‡‘é“¶é“œï¼‰
3. **å›¾æ ‡**: ä¸ºä¸åŒç§°å·æ·»åŠ ä¸“å±å›¾æ ‡

### é•¿æœŸä¼˜åŒ–
1. **ç­‰çº§è¯¦æƒ…**: ç‚¹å‡»ç­‰çº§å¾½ç« å¯æŸ¥çœ‹è¯¦ç»†è¿›åº¦
2. **æˆå°±ç³»ç»Ÿ**: æ·»åŠ æ›´å¤šæˆå°±å¾½ç« ï¼ˆå¦‚è¿ç»­ç­¾åˆ°ã€ç‰¹å®šæ—¶é—´å†³ç­–ç­‰ï¼‰
3. **ç¤¾äº¤åˆ†äº«**: åˆ†äº«æ—¶çªå‡ºæ˜¾ç¤ºç­‰çº§å’Œç§°å·
4. **æ’è¡Œæ¦œ**: æ·»åŠ å¥½å‹æˆ–å…¨çƒæ’è¡Œæ¦œ

---

## ğŸ› Bug ä¿®å¤

### ä¿®å¤ Healing ä¸»é¢˜æ¨ªå‘æº¢å‡º

**é—®é¢˜æè¿°**:
```
The overflowing RenderFlex has an orientation of Axis.horizontal.
```

**åŸå› åˆ†æ**:
- Healing ä¸»é¢˜çš„ç­‰çº§æ ‡è¯† Row ä¸­åŒ…å«å¤šä¸ªå›ºå®šå®½åº¦çš„å…ƒç´ 
- å½“ç§°å·æ–‡å­—è¾ƒé•¿æ—¶ï¼ˆå¦‚ "Fate Architect"ï¼‰ï¼Œä¼šå¯¼è‡´ Row æ€»å®½åº¦è¶…è¿‡å±å¹•å®½åº¦
- æ²¡æœ‰ä½¿ç”¨ Flexible æˆ– Expanded æ¥å¤„ç†å¼¹æ€§å¸ƒå±€

**ä¿®å¤æ–¹æ¡ˆ**:
1. ä¸º Row æ·»åŠ  `mainAxisSize: MainAxisSize.min` é™åˆ¶æœ€å°å°ºå¯¸
2. ä¸ºç§°å· Text åŒ…è£¹ `Flexible` widget
3. æ·»åŠ  `overflow: TextOverflow.ellipsis` å’Œ `maxLines: 1` é˜²æ­¢æ–‡å­—æº¢å‡º
4. è°ƒæ•´å¸ƒå±€é¡ºåºï¼šç§°å·åœ¨å‰ï¼ˆå¯ä¼¸ç¼©ï¼‰ï¼Œå†³ç­–æ¬¡æ•°å¾½ç« åœ¨åï¼ˆå›ºå®šå®½åº¦ï¼‰

**ä¿®å¤åä»£ç **:
```dart
Row(
  mainAxisAlignment: MainAxisAlignment.center,
  mainAxisSize: MainAxisSize.min, // ğŸ”¥ é™åˆ¶æœ€å°å°ºå¯¸
  children: [
    // ç§°å·ï¼ˆä½¿ç”¨ Flexible é˜²æ­¢æº¢å‡ºï¼‰
    Flexible(
      child: Text(
        userTitle,
        overflow: TextOverflow.ellipsis, // ğŸ”¥ é˜²æ­¢æ–‡å­—æº¢å‡º
        maxLines: 1,
      ),
    ),
    const SizedBox(width: 8),
    // å†³ç­–æ¬¡æ•°å¾½ç« ï¼ˆå›ºå®šå®½åº¦ï¼‰
    Container(...),
  ],
)
```

---

## ğŸ“ ä¿®æ”¹è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | ä¿®æ”¹å†…å®¹ |
|------|------|----------|
| 2025-12-06 | v1.0 | åˆå§‹ä¼˜åŒ–ï¼šæ·»åŠ å†³ç­–æ¬¡æ•°å’Œç­‰çº§æ ‡è¯† |
| 2025-12-06 | v1.1 | ç§»é™¤ LV ç­‰çº§æ•°å­—æ˜¾ç¤ºï¼Œä»…ä¿ç•™ç§°å·ï¼›ä¿®å¤ Healing ä¸»é¢˜æ¨ªå‘æº¢å‡º Bug |

---

## ğŸ’¡ æ€»ç»“

æœ¬æ¬¡ä¼˜åŒ–æˆåŠŸå°†ç»“æœå¡ç‰‡ä»"ä¸€æ¬¡æ€§ç¥¨æ®"å‡çº§ä¸º"ä¸ªäººæˆé•¿è®°å½•"ï¼š

### æ ¸å¿ƒæ”¹è¿›
1. âœ… **å†³ç­–æ¬¡æ•°**: ä»éšæœºåºåˆ—å·æ”¹ä¸ºæœ‰æ„ä¹‰çš„ç´¯ç§¯æ•°å­—
2. âœ… **ç­‰çº§æ ‡è¯†**: æ·»åŠ ç­‰çº§å’Œç§°å·ï¼Œå±•ç¤ºç”¨æˆ·æˆé•¿
3. âœ… **åŒä¸»é¢˜é€‚é…**: Vintage å’Œ Healing ä¸»é¢˜éƒ½æœ‰ç‹¬ç‰¹çš„è®¾è®¡é£æ ¼
4. âœ… **æ•°æ®é©±åŠ¨**: åŸºäºçœŸå®çš„ç”¨æˆ·æ•°æ®ï¼Œè€Œééšæœºç”Ÿæˆ

### ç”¨æˆ·ä½“éªŒæå‡
- **æˆå°±æ„Ÿ**: æ¯æ¬¡å†³ç­–éƒ½èƒ½çœ‹åˆ°è‡ªå·±çš„è¿›æ­¥
- **ä¸ªæ€§åŒ–**: ç§°å·è®©ç”¨æˆ·æ„Ÿå—åˆ°ç‹¬ç‰¹èº«ä»½
- **æ¸¸æˆåŒ–**: ç­‰çº§ç³»ç»Ÿå¢åŠ è¶£å‘³æ€§å’Œæ¢ç´¢åŠ¨åŠ›

### æŠ€æœ¯å®ç°
- **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ Riverpod è®¿é—®å…¨å±€ç”¨æˆ·çŠ¶æ€
- **æ•°æ®æŒä¹…åŒ–**: ä½¿ç”¨ Hive æœ¬åœ°å­˜å‚¨
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å¤šè¯­è¨€æ”¯æŒ**: ç§°å·è‡ªåŠ¨æœ¬åœ°åŒ–

---

**ä¼˜åŒ–å®Œæˆæ—¶é—´**: 2025-12-06
**æ–‡æ¡£ç»´æŠ¤è€…**: Claude Code
