### ğŸ“ è§£å†³æ–¹æ¡ˆï¼šå“åº”å¼å°ºå¯¸ (Responsive Sizing)

æˆ‘ä»¬å°†ç¡¬å¸çš„å¤§å°ä¹Ÿæ”¹ä¸ºåŸºäºå±å¹•å®½åº¦çš„æ¯”ä¾‹ã€‚

å»ºè®®å°†ç¡¬å¸å¤§å°è®¾ç½®ä¸ºå±å¹•å®½åº¦çš„ 0.65 (65%)ã€‚è¿™æ ·æ—¢èƒ½ä¿è¯è§†è§‰å†²å‡»åŠ›ï¼Œåˆèƒ½ç¨³ç¨³åœ°è½åœ¨ 75% å®½åº¦çš„æ¡Œå«å†…ï¼Œç•™æœ‰å‘¼å¸ç©ºé—´ã€‚

------

### 1. ä¿®æ”¹ `FrameCoinFlipper` (é€‚é…æ¸²æŸ“ä¸æ‡’åŠ è½½)

æˆ‘ä»¬éœ€è¦åœ¨ `build` æ–¹æ³•ä¸­åŠ¨æ€è®¡ç®—å°ºå¯¸ï¼Œå¹¶åŒæ­¥æ›´æ–° `_lazyLoadAnimationFrames` ä¸­çš„ç¼“å­˜é€»è¾‘ï¼Œç¡®ä¿ç¼“å­˜å›¾ç‰‡çš„æ¸…æ™°åº¦ä¸æ˜¾ç¤ºå°ºå¯¸ä¸€è‡´ã€‚

**æ–‡ä»¶ï¼š`lib/features/decision/presentation/widgets/frame_coin_flipper.dart`**

Dart

```
// ... imports

class _FrameCoinFlipperState extends ConsumerState<FrameCoinFlipper> with SingleTickerProviderStateMixin {
  // ... ä¹‹å‰çš„å˜é‡

  // ğŸ”¥ã€æ–°å¢ã€‘å®šä¹‰ç¡¬å¸ç›¸å¯¹äºå±å¹•å®½åº¦çš„æ¯”ä¾‹
  static const double _kCoinSizeRatio = 0.65;

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    // ... PostFrameCallback ä¿æŒä¸å˜
  }

  // ä¿®æ”¹æ‡’åŠ è½½é€»è¾‘ï¼Œä½¿ç”¨å“åº”å¼å°ºå¯¸
  Future<void> _lazyLoadAnimationFrames() async {
    if (!mounted) return;
    
    // 1. è·å–å±å¹•å‚æ•°
    final mediaQuery = MediaQuery.of(context);
    final pixelRatio = mediaQuery.devicePixelRatio;
    
    // ğŸ”¥ã€æ ¸å¿ƒä¿®æ”¹ã€‘è®¡ç®—å“åº”å¼å®½åº¦
    // é€»è¾‘å®½åº¦ = å±å¹•å®½åº¦ * 0.65
    final logicalWidth = mediaQuery.size.width * _kCoinSizeRatio;
    // ç‰©ç†ç¼“å­˜å®½åº¦ = é€»è¾‘å®½åº¦ * å¯†åº¦
    final targetWidth = (logicalWidth * pixelRatio).toInt();

    // ... åç»­å¾ªç¯é€»è¾‘ä¿æŒä¸å˜ï¼ŒtargetWidth å·²æ›´æ–°
    const int batchSize = 5;
    for (int i = 1; i < _frameCount; i++) {
        // ... åŠ è½½ä»£ç ä¿æŒä¸å˜
    }
    
    debugPrint("âœ… [CoinFlipper] å“åº”å¼å¸§åŠ è½½å®Œæ¯•ï¼Œç›®æ ‡å®½åº¦: $targetWidth px");
  }

  @override
  Widget build(BuildContext context) {
    // ğŸ”¥ã€æ ¸å¿ƒä¿®æ”¹ã€‘åœ¨ build ä¸­è®¡ç®—å°ºå¯¸
    final screenWidth = MediaQuery.of(context).size.width;
    final coinSize = screenWidth * _kCoinSizeRatio;

    return GestureDetector(
      onTap: _flip,
      child: RepaintBoundary(
        child: AnimatedBuilder(
          animation: _controller,
          builder: (context, child) {
            // ... è®¡ç®— currentFrame å’Œ path ä¿æŒä¸å˜
            int currentFrame = _controller.isAnimating 
              ? _frameAnim.value.floor() 
              : (_frameCount - 1);
            
            final String prefix = _isHeadsSequence ? "heads" : "tails";
            final String frameNumber = (currentFrame + 1).toString().padLeft(4, '0');
            final String path = "assets/images/coin_anim/${prefix}_$frameNumber.png";

            // ğŸ”¥ã€æ ¸å¿ƒä¿®æ”¹ã€‘ä½¿ç”¨åŠ¨æ€ coinSize
            return SizedBox(
              width: coinSize,
              height: coinSize,
              child: Stack(
                alignment: Alignment.center,
                clipBehavior: Clip.none,
                children: [
                  // --- A. å½±å­ ---
                  Positioned(
                    bottom: 40, // è¿™é‡Œä¹Ÿå¯ä»¥è€ƒè™‘ç”¨ coinSize * 0.15 å˜æˆå“åº”å¼ï¼Œæš‚ä¸”ä¿æŒ
                    child: Opacity(
                      opacity: (1.0 - (_heightAnim.value / _jumpHeight)).clamp(0.2, 1.0),
                      child: Transform.scale(
                        scale: 1.0 - (_heightAnim.value / _jumpHeight) * 0.5,
                        child: Container(
                          // å½±å­å®½åº¦ä¹Ÿéšç¡¬å¸å˜å°
                          width: coinSize * 0.4, 
                          height: coinSize * 0.05,
                          decoration: BoxDecoration(
                            color: Colors.black.withOpacity(0.3),
                            borderRadius: BorderRadius.circular(100),
                            boxShadow: [BoxShadow(blurRadius: 10, color: Colors.black.withOpacity(0.4))],
                          ),
                        ),
                      ),
                    ),
                  ),
                  
                  // --- B. ç¡¬å¸æœ¬ä½“ ---
                  Transform.translate(
                    offset: Offset(0, _heightAnim.value),
                    child: Transform.rotate(
                      angle: _wobbleAnim.value,
                      child: Image(
                        // è¿™é‡Œçš„ ResizeImage å®½åº¦è®¡ç®—å¿…é¡»ä¸ _lazyLoadAnimationFrames ä¸€è‡´
                        image: ResizeImage(
                          AssetImage(path), 
                          width: (coinSize * MediaQuery.of(context).devicePixelRatio).toInt(),
                          policy: ResizeImagePolicy.fit,
                        ),
                        gaplessPlayback: true,
                        filterQuality: FilterQuality.medium,
                        // ğŸ”¥ ä½¿ç”¨åŠ¨æ€å°ºå¯¸
                        width: coinSize,
                        height: coinSize,
                        fit: BoxFit.contain,
                      ),
                    ),
                  ),
                ],
              ),
            );
          },
        ),
      ),
    );
  }
}
```

------

### 2. åŒæ­¥ä¿®æ”¹ `SplashScreen` (ä¿æŒé¢„çƒ­ä¸€è‡´æ€§)

**éå¸¸é‡è¦**ï¼šå¦‚æœåªæ”¹äº†ä¸»é¡µï¼ŒSplash é¡µé¢„çƒ­çš„å›¾ç‰‡å°ºå¯¸ï¼ˆ`targetWidth`ï¼‰å°±ä¼šå’Œä¸»é¡µå®é™…æ¸²æŸ“çš„ä¸ä¸€è‡´ï¼Œå¯¼è‡´ Flutter è®¤ä¸ºç¼“å­˜æœªå‘½ä¸­ï¼Œä»è€Œé‡æ–°è§£ç ï¼Œä¹‹å‰çš„ç§’å¼€ä¼˜åŒ–å°±å¤±æ•ˆäº†ã€‚

**æ–‡ä»¶ï¼š`lib/features/splash/presentation/splash_screen.dart`**

Dart

```
  // ... imports

  // ... 

  /// ğŸ”¥ã€æ ¸å¿ƒæ–°å¢ã€‘é¢„åŠ è½½é™æ€å¸§
  void _warmupCriticalAssets() {
    final skin = ref.read(currentSkinProvider);
    
    if (skin.mode == SkinMode.vintage) {
      WidgetsBinding.instance.addPostFrameCallback((_) {
        if (!mounted) return;
        
        try {
          final mediaQuery = MediaQuery.of(context);
          final pixelRatio = mediaQuery.devicePixelRatio;
          
          // ğŸ”¥ã€å…³é”®ã€‘å¿…é¡»ä¸ FrameCoinFlipper çš„ _kCoinSizeRatio ä¿æŒä¸€è‡´ (0.65)
          final logicalWidth = mediaQuery.size.width * 0.65;
          final targetWidth = (logicalWidth * pixelRatio).toInt();

          debugPrint("ğŸ”¥ [Splash] é¢„çƒ­ Vintage é™æ€å¸§ (å®½åº¦: $targetWidth)...");
          
          // ... precacheImage ä»£ç ä¿æŒä¸å˜ï¼Œä½¿ç”¨æ–°çš„ targetWidth
          precacheImage(
            ResizeImage(
              const AssetImage("assets/images/coin_anim/heads_0040.png"), 
              width: targetWidth, 
              policy: ResizeImagePolicy.fit
            ),
            context,
          );
          precacheImage(
            ResizeImage(
              const AssetImage("assets/images/coin_anim/tails_0040.png"), 
              width: targetWidth, 
              policy: ResizeImagePolicy.fit
            ),
            context,
          );
        } catch (e) {
          debugPrint("âš ï¸ é¢„çƒ­å¤±è´¥: $e");
        }
      });
    }
  }
```

1. 